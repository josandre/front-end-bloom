<section class="content">
  <div class="content-block" [hidden]="loading">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb *ngIf="diary !== undefined" [title]="'My Diary'"
                      [active_item]="diary.title | titlecase"></app-breadcrumb>
    </div>
    <div class="row container-diary">

      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 entries-side">
        <ng-scrollbar visibility="hover" [style.height]="550 + 'px'">

          <div class="card-entries-container">

            <mat-card class="p-3 card-entry" [ngClass]="{'opened-entry' : entry.id === currentEntryId}" tabindex="0" *ngFor="let entry of entries"
                      (click)="setEditorContent(entry)">
              <div class="row">
                <div class="col-6">
                  <div class="entry-content" [innerHTML]="generatePreview(entry.content, 15)">
                  </div>
                  <div class="pt-3">
                    <small>{{ entry.date | date:'shortTime' }}</small>
                  </div>
                </div>
                <div class="col">
                  <div class="card-date">
                    <span class="align-middle week-day">{{ entry.date | date:"E" | uppercase }}</span>
                    <span class="align-middle">{{ entry.date | date:"M/d" }}</span>
                  </div>
                </div>
              </div>
            </mat-card>


          </div>
        </ng-scrollbar>



      </div>
      <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
        <div class="card">
          <div class="m-l-10 p-2">
            <button mat-mini-fab color="primary" class="float-end mx-3" (click)="addEntry()">
              <mat-icon>add</mat-icon>
            </button>
<!--            <button mat-mini-fab color="primary" class="float-end mx-3" (click)="addEntry()">
              <mat-icon>save</mat-icon>
            </button>-->
            <button mat-mini-fab class="button-close" (click)="closeEditor()" *ngIf="!editorHidden">
              <mat-icon>close</mat-icon>
            </button>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <ckeditor [hidden]="editorHidden" #editor [editor]="Editor" [data]="editorContent">prueba</ckeditor>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="loading" class="center">
    <mat-spinner></mat-spinner>
  </div>
</section>

